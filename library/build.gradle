apply plugin: 'com.android.library'
/*
这里删除了原来连接maven相关的 plugin，我们是不需要的，不然会报错
apply plugin: 'com.jfrog.bintray'
apply plugin: 'com.github.dcendents.android-maven'
 */
group = 'com.ajts.androidmads.SQLite2Excel'
version = '1.0.4'

android {
    compileSdkVersion 32  //此处已更改为本地版本
    //buildToolsVersion '26.0.3'

    defaultConfig {
        minSdkVersion 15
        targetSdkVersion 32 //此处已更改为本地版本
        versionCode 1
        versionName "1.0"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    //这里只能依赖此版本的poi.jar包，在同步时让他自己下载相应的jar包，如果是下面自己下载的5.2 jar包 gradle将会报错
    implementation 'org.apache.poi:poi:3.16' //原来的compile 替换为 implementation，不然报错
    //implementation files('libs/poi-5.2.2.jar')
}

task generateSourcesJar(type: Jar) {
    from android.sourceSets.main.java.srcDirs
    classifier 'sources'
}

task generateJavadocs(type: Javadoc) {
    source = android.sourceSets.main.java.srcDirs
    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))
}

task generateJavadocsJar(type: Jar) {
    from generateJavadocs.destinationDir
    classifier 'javadoc'
}

artifacts {
    archives generateSourcesJar
    archives generateJavadocsJar
}